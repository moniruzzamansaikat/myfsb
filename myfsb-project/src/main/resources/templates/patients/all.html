<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>List of patients</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" />
</head>
<body>
	<div class="container my-4">
		<!-- Display flash success message if present -->
	    <div th:if="${success}" class="alert alert-success mb-2" role="alert">
	        <span th:text="${success}"></span>
	    </div>
		
		<div class="card">
			<div class="card-header d-flex justify-content-between">
			   <h5>Patients</h5>
			   <a th:href="@{/patients/create}" class="btn btn-sm btn-success">New Patient</a>
			 </div>
			<div class="card-body">
				<table class="table">
				  <thead>
				    <tr>
				      <th scope="col">#</th>
				      <th scope="col">Name</th>
				      <th scope="col">Email</th>
					  <th scope="col">Phone</th>
					  <th scope="col">Address</th>
					  <th scope="col" class="text-end">Action</th>
				    </tr>
				  </thead>
				  <tbody> 
				    <tr th:each="patient : ${patients}">
						<th scope="row" th:text="${patient.id}"></th>
						<td th:text="${patient.fullname()}"></td>
						<td th:text="${patient.email}"></td>
						<td th:text="${patient.phone}"></td>
						<td th:text="${patient.address}"></td>
						<td class="text-end">
		
							<a th:href="@{/patients/edit(id=${patient.id})}" class="btn btn-primary btn-sm">Edit</a>
		
							<a onclick="return confirm('are you sure to delete?')" th:href="@{/patients/delete(id=${patient.id})}" class="btn btn-danger btn-sm">Delete</a>
						
						</td>
				    </tr>
				  </tbody>				
				</table> 
			</div>
		</div>
	</div>
	
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
